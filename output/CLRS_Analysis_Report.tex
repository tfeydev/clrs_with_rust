
\documentclass[12pt, a4paper]{report}
\usepackage[utf8]{inputenc}
\usepackage{amsmath, amssymb, listings, xcolor, csquotes, babel}
\usepackage{algorithm}
\usepackage{algpseudocode}
\lstdefinelanguage{Rust}{
    keywords={as, break, const, continue, crate, else, enum, extern, false, fn, for, if, impl, in, let, loop, match, mod, move, mut, pub, ref, return, Self, self, static, struct, super, trait, true, type, unsafe, use, where, while},
    keywordstyle=\color{blue}\bfseries,
    identifierstyle=\color{black},
    comment=[l]{//},
    morecomment=[s]{/*}{*/},
    commentstyle=\color{gray}\ttfamily,
    string=[b]{"},
    stringstyle=\color{red}\ttfamily,
    showstringspaces=false
}
\usepackage[
    backend=bibtex, 
    style=numeric,
    citestyle=numeric
]{biblatex}
\addbibresource{CLRS_Analysis_Report.bib}

\title{Comprehensive Analysis of Fundamental Algorithms in Rust}
\author{Thor}
\date{\today}

\lstset{
    language=Rust,
    basicstyle=\ttfamily\footnotesize,
    breaklines=true,
    captionpos=b,
    frame=single,
    showstringspaces=false
}

\begin{document}
\maketitle
\tableofcontents

% --- Dynamic chapters injected here ---
\input{../latex/chapters/insertion_sort.tex}

\chapter{Example: Insertion Sort (Inline)}
\section{Implementation Listing}
\begin{lstlisting}[caption={Insertion Sort in Rust (\texttt{algorithms} crate)}]
pub fn insertion_sort<T>(arr: &mut [T])
where
    T: PartialOrd + Copy,
{
    if arr.len() < 2 { return; }
    for i in 1..arr.len() {
        let key = arr[i];
        let mut j = i;
        while j > 0 && arr[j - 1] > key {
            arr[j] = arr[j - 1];
            j -= 1;
        }
        arr[j] = key;
    }
}
\end{lstlisting}

\chapter*{References}
\addcontentsline{toc}{chapter}{References}
\printbibliography

\end{document}
